/*  MingGEjs框架1.5
 *  
 *  你会用JQUERY，那你也会用这个框架，语法都是一样的！
 *
 *  MingGEjs选择器的执行速度，是JQUERY的十倍以上,zepto的三倍,绝对排行世界尖端
 *
 *  作者：明哥先生 --QQ399195513
 */
!function(a,b){var e=document.getElementsByClassName?!0:!1,f=document.querySelectorAll?!0:!1,g=Array.prototype.slice,h=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,i=Object.prototype.toString,j=function(a,b){return b.toUpperCase()},k=/-([a-z])/gi,l=/alpha\([^)]*\)/,m=/^\s?(matrix3d|translate3d|translateX|translateY|translateZ|scale3d|scaleX|scaleY|scaleZ|rotate3d|rotateX|rotateY|rotateZ|perspective|matrix|translate|translateX|translateY|scale|scaleX|scaleY|rotate|skew|skewX|skewY)\s?$/i,n=function(a){a=a.toLowerCase();var b=/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||!/compatible/.test(a)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},o=function(a){var b=h.exec(a),c=!1;return null===b?!1:c=b[1]?["getElementById","id",b[1],{Id:!0}]:b[2]?["getElementsByTagName","tagName",b[2],{Tag:!0}]:["getElementsByClassName","className",b[3],{Class:!0}]},p={transform:!1,arrayAnimate:[],bindEvent:!1,addEvent:function(a,b,c){var d={add:function(){A.isFunction(c)&&a.addEventListener(b,c,!1)},att:function(){A.isFunction(c)&&a.attachEvent("on"+b,c)},no:function(){A.isFunction(c)&&(a["on"+b]=c)}};this.bindEvent=this.bindEvent||a.addEventListener&&"add"||a.attachEvent&&"att"||"no",d[this.bindEvent]&&d[this.bindEvent]()},delEvent:function(a,b,c){var d={add:function(){A.isFunction(c)&&a.removeEventListener(b,c,!1)},att:function(){A.isFunction(c)&&a.detachEvent("on"+b,c)},no:function(){A.isFunction(c)&&(a["on"+b]=null)}};this.bindEvent=this.bindEvent||a.addEventListener&&"add"||a.attachEvent&&"att"||"no",d[this.bindEvent]&&d[this.bindEvent]()},timeCompute:function(a,b,c){return function(){var d=(new Date).getTime()-a;(d>b||0>d)&&"function"==typeof c&&c()}},ajax:function(){this.serverdata=this.erromsg=this.timeout=this.stop=this.xmlhttp=!1,this.transit=!0},ajaxPrototype:{handle:function(a,b){if(4==a.readyState){if(this.stop===!0)return;if(this.transit=!0,b.timeout&&b.async&&(clearTimeout(this.timeout),this.timeout=!1),200==a.status){var c=this.serverdata=a.responseText.replace(/(^\s*)|(\s*$)/g,"");"function"==typeof b.success&&b.success(c)}else this.erromsg=a.status,"function"==typeof b.error&&b.error(a.status)}else if(0==a.readyState){if(this.stop===!0)return;b.timeout&&b.async&&(clearTimeout(this.timeout),this.timeout=!1),this.erromsg=a.readyState,this.transit=!0,"function"==typeof b.error&&b.error(a.readyState)}},out:function(a){this.transit=!0,this.erromsg=504,this.stop=!0,"function"==typeof a.error&&a.error(504)},carry:function(b){var c,d,e,f;if(b.lock&&!this.transit)return!1;this.transit=!1,this.stop=this.erromsg=!1,c=a.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),b.type=b.type.toUpperCase(),d=function(){},"string"==typeof b.data?(b.data=b.data.replace(/(^\s*)|(\s*$)/g,""),d=function(){c.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}):"[object FormData]"!==Object.prototype.toString.call(b.data)?(b.data="",d=function(){c.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}):("function"==typeof b.progress&&c.upload.addEventListener("progress",b.progress,!1),b.type="POST"),e=""==b.data?[null,""]:[b.data,"?"+b.data],f=this,"function"==typeof b.complete&&b.complete(),b.timeout&&b.async&&(this.timeout=setTimeout(function(){f.out(b)},b.timeout)),b.async===!0&&(c.onreadystatechange=function(){f.handle(c,b)});try{switch(b.type){case"POST":c.open("POST",b.url,b.async),d();break;default:c.open("GET",b.url+e[1],b.async),b.cache===!0||c.setRequestHeader("If-Modified-Since","0")}}catch(g){return this.erromsg=505,b.timeout&&b.async&&(clearTimeout(this.timeout),this.timeout=!1),this.transit=!0,"function"==typeof b.error&&b.error(505),void 0}c.send(e[0]),b.async===!1&&f.handle(c,b)}},JsonString:{_json_:null,JsonToString:function(a){try{this._json_=new Array,this._read_(a,!0);var b=this._json_.join("");return b=b.replace(/,([\}\]])/g,function(a,b){return b}),this._json_=null,b}catch(c){return alert("格式不符，转换失败"),null}},StringToJson:function(a){var b,c;if("string"!=typeof a)return alert("你传入不是JSON字符串"),null;try{return b=new Function("return ("+a+")")(),c=this._type_(b),"[object Object]"!==c&&"[object Array]"!==c?!1:b}catch(d){return!1}},_type_:function(a){if("number"==typeof a.nodeType)return"[object document]";var b=Object.prototype.toString.call(a);return b},_addjson_:function(a,b,c){var e={"[object Object]":b,"[object Array]":c};this._json_.push(e[a])},_addstring_:function(a){var c,b=typeof a;return"string"===b?'"'+a+'"':"number"===b?a:(c=this._type_(a),"[object Object]"===c||"[object Array]"===c?!1:'""')},_read_:function(a,b){var d,e,c=this._type_(a);if(b&&"[object Object]"!==c&&"[object Array]"!==c)return alert("你传入不是数组或JSON"),this._json_=null;this._addjson_(c,"{","[",b);for(d in a)"undefined"==typeof a.constructor.prototype[d]&&(e=this._addstring_(a[d]),"boolean"!=typeof e?this._addjson_(c,'"'+d+'":'+e+",",e+","):(this._addjson_(c,'"'+d+'":',""),this._read_(a[d],!1)));b=b?"":",",this._addjson_(c,"}"+b,"]"+b)}},opacity:!1,transition:!1,style:function(a,b,c){var d,e,f,g,h;return m.test(b)?(e=new RegExp(""+b+"\\s?\\((.*)\\)","i"),f=a[p.transform],b+="("+c+")",d=[p.transform,f?e.test(f)?f.replace(e,b):f+" "+b:b]):"opacity"==b?("opacity"==p.opacity?d=["opacity",parseFloat(c,10)]:(g=a.filter,h="NaN"==parseInt(c,10)+""?"":"alpha(opacity="+100*c+")",d=l.test(g)?["filter",g.replace(l,h)]:["filter",h]),d):[b,c]},ready:function(b){function c(){try{var d=function(){"complete"===document.readyState&&(p.addEvent(document,"readystatechange",d),b())},e=a.frameElement}catch(f){return p.addEvent(document,"readystatechange",d),void 0}if(null!=e)return p.addEvent(document,"readystatechange",d),void 0;try{document.documentElement.doScroll("left")}catch(d){return setTimeout(c,13),void 0}b()}p.bindEvent=p.bindEvent||document.addEventListener&&"add"||document.attachEvent&&"att"||"no";var d;A.isFunction(b)&&("add"==p.bindEvent?(d=function(){document.removeEventListener("DOMContentLoaded",d,!1),b()},document.addEventListener("DOMContentLoaded",d,!1)):c())}},q=function(a){var c,d;try{return g.call(a)}catch(b){for(c=[],d=0;d<a.length;d++)c[d]=a[d];return c}},r=function(a){try{return a.replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g,"")}catch(b){return a}},s=function(a,b){var c,d,f,e,g,h;if(b[0]||b[1][3].Id&&document===a)return c=b[1][2],d=a[b[1][0]]("MingGeAllelem2015"===c?"*":c),d&&(d=b[1][3].Id?[d]:q(d),this.ObjArray=this.ObjArray.concat(d)),void 0;for(e=a.getElementsByTagName("*"),g=0,h=new RegExp("(^|\\s)"+b[1][2]+"(\\s|$)");f=e[g++];)h.test(f[b[1][1]])&&this.ObjArray.push(f)},t=function(a){var b=o(a);return b?[b[3].Tag||e&&b[3].Class,b]:!1},u=function(a){var b,e,f,c=0,d=[],g=!1;if(a.item||A.isArray(a))for(;b=a[c++];){for(e=0;f=d[e++];)if(b===f){g=!0;break}g||d.push(b),g=!1}return d},v=function(a,b,c){var g,i,k,l,f,h,j,m,n,d=a.match(/[^\,]+/g),e=b.match(/[^\,]+/g);if(d&&e){for(f="",h=" "==c,j=/^[\w-_]+/,m=0;m<d.length;m++)for(g=d[m]+c,l=h||(k=g.match(j)),n=0;n<e.length;n++)l?g==e[n]?f+=g+",":k?(i=e[n].match(j),i?i[0]==k[0]&&(f+=g+e[n].replace(j,"")+","):f+=g+e[n]+","):f+=g+e[n]+",":f+=e[n]+g+",";return f.replace(/,+$/,"")}},w=function(b,c,d,e){var f,g,h,j,i;try{if(h=!1,d){if(c.SelectorTxt===document||c.SelectorTxt===a)return e;if(c.SelectorTxt&&""!=b)if(d.filter){if(c.SelectorTxt.ownerDocument)return c.SelectorStr?(g="#"+(c.SelectorTxt.id||(h=!0,c.SelectorTxt.id="tempMingGeId2015")),f=v(g,e.SelectorStr=v(c.SelectorStr,b,"")," "),e.ObjArray=q(c.SelectorTxt.querySelectorAll(f)),e.SelectorTxt=c.SelectorTxt,h&&c.SelectorTxt.removeAttribute("id"),e):-1;f=v(c.SelectorTxt,b,"")}else{if(c.SelectorTxt.ownerDocument)return g="#"+(c.SelectorTxt.id||(h=!0,c.SelectorTxt.id="tempMingGeId2015")),f=c.SelectorStr?v(g,e.SelectorStr=v(c.SelectorStr,b," ")," "):v(g,e.SelectorStr=b," "),e.ObjArray=q(c.SelectorTxt.querySelectorAll(f)),e.SelectorTxt=c.SelectorTxt,h&&c.SelectorTxt.removeAttribute("id"),e;f=v(c.SelectorTxt,b," ")}e.ObjArray=q(document.querySelectorAll(f)),e.SelectorTxt=f}else i=/^#([\w-_]+)$/.exec(b),e.ObjArray=i?(j=document.getElementById(i[1]))?[j]:[]:q(document.querySelectorAll(b)),e.SelectorTxt=b}catch(k){}return e},x=function(a,b,c){var e,g,h,i,j,d=new A;if("string"==typeof a){if(a=r(a),f&&-1!=(e=w(a,b,c,d)))return e;if(g=a.match(/[^\,]+/g),h=[],g){if(i=g.length,1===i)return y(g[0],b,c);for(j=0;i>j;j++)h=h.concat(y(g[j],b,c).ObjArray);return d.ObjArray=u(h),d}return d}return c?d:d.init(a||0,document)},y=function(a,b,c){var e,f,d=a.match(/[^\s]+/g);if(d){if(e=d.length,c&&c.filter&&e>2)return new A;for(f=0;e>f;f++)b=z(d[f],f,b,c)}return b},z=function(a,b,c,d){var f,e=a.match(/[\.#]?([\w-]+)/g);if(e)for(f=0;f<e.length;f++)c=0==b?0==f?d?d.find?c.OneFind(e[0]):c.OneFilter(e[0]):(new A).init(e[0],document):c.OneFilter(e[f]):0==f?c.OneFind(e[0]):c.OneFilter(e[f]);return c},A=a.MingGe=function(b){return this===a||this.MingGe?x(b):(this.ObjArray=[],this.animateList=[],void 0)};A.fn=A.prototype={version:"你使用的版本是MingGejs1.5",init:function(b,c){var d;return A.isFunction(b)?(p.ready(b),this):(b===a||b===document||b.ownerDocument?(this.SelectorTxt=b,this.ObjArray=[b]):(d=t(b))&&s.call(this,c,d),this)},is:function(a){switch(a=r(a)){case":animate":return-1==A.inArray(this.ObjArray[0],p.arrayAnimate)?!1:!0}},animateList:[],animate:function(a,b,c,d,e){var f,g,k,m,i,j,l,n,o,q;if(p.transition||(p.transition=A.html5Attribute("transition")),!p.transition)return this.css(a),this;if(f=this.animateList.length,f>0&&!e)return this.animateList.push([a,b,c,d,f]),this;if(0==f&&e&&(e=null),e||this.animateList.push([a,b,c,d,0]),!A.isObject(a))return this;for(g=typeof b,"number"!==g&&("string"===g?(g=parseFloat(b),isNaN(g)&&(b=200)):"function"===g&&(c=b,b=200)),"function"!=typeof c&&(d=c,c=function(){}),"string"==typeof d?(d=r(d),/^linear$|^ease$|^ease-in$|^ease-out$|^ease-in-out$|^cubic-bezier\s?\(.+\)$/.test(d)||(d="ease")):d="ease",{transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"}[p.transition],i=0,j=p.transition+"TimingFunction",l=.001*b,n=this,o={},q=function(){var a,b,d,f,g;for(k&&(clearInterval(k),k=null),d=0,f=0;a=n.ObjArray[d++];)-1!=(b=A.inArray(a,p.arrayAnimate))&&p.arrayAnimate.splice(b,1),a.style[p.transition]=a.style[j]=null,c.call(a);for(n.animateList[e||0]=null,g=!1;f<n.animateList.length;f++)if(n.animateList[f]){n.animate.apply(n,n.animateList[f]),g=!0;break}g||(n.animateList=[])},i=0;m=this.ObjArray[i++];)p.arrayAnimate.push(m);return o[p.transition]=l+"s",o[j]=d,k=setInterval(p.timeCompute((new Date).getTime(),b+5,q),1),this.css(o),setTimeout(function(){n.css(a)},5),this},on:function(a,b){var c,f,d=0,e=typeof a;if("string"===e&&A.isFunction(b))for(;c=this.ObjArray[d++];)c["on"+a]=b;else if("object"===e)for(;c=this.ObjArray[d++];)for(f in a)c["on"+f]=a[f];return this},click:function(a){return this.bind("click",a)},mouseover:function(a){return this.bind("mouseover",a)},mouseout:function(a){return this.bind("mouseout",a)},bind:function(a,b){var c,f,d=0,e=typeof a;if("string"===e&&A.isFunction(b))for(;c=this.ObjArray[d++];)p.addEvent(c,a,b);else if("object"===e)for(;c=this.ObjArray[d++];)for(f in a)p.addEvent(c,f,a[f]);return this},unbind:function(a,b){var c,d=0;if(b)for(;c=this.ObjArray[d++];)p.delEvent(c,a,b);else for(;c=this.ObjArray[d++];)c[on+"eveName"]=null;return this},one:function(a,b){var d,e,f,c=typeof a;if("string"===c&&A.isFunction(b))return d=function(){p.delEvent(this,a,d),b.call(this)},this.bind(a,d);if("object"===c){e={};for(f in a)e[f]=function(b){return function(){p.delEvent(this,b,e[b]),a[b].call(this)}}(f);return this.bind(e)}},SelectorStr:!1,SelectorTxt:!1,ObjArray:[],ready:function(a){p.ready(a)},removing:function(a){return u(a)},OneFind:function(a){var b,e,c=0,d=new A;if(e=t(a)){for(;b=this.ObjArray[c++];)s.call(d,b,e);d.ObjArray=u(d.ObjArray)}return d},parent:function(a){for(var b,c=0,d=new A;b=this.ObjArray[c++];)"BODY"!=b.parentNode.tagName&&d.ObjArray.push(b.parentNode);return d.ObjArray=u(d.ObjArray),d.SelectorTxt=document.body,a?d.filter(a):d},addClass:function(a){return"string"==typeof a?this.each(function(){if(1===this.nodeType){a=r(a);var b=this.className;this.className=b?b+" "+a:a}}):void 0},removeClass:function(a){return"string"==typeof a?this.each(function(){var b,c;1===this.nodeType&&(a=r(a),b=this.className,b&&(c=RegExp("(^|\\s)"+a+"($|\\s)","ig"),c.test(b)&&(this.className=b=r(b.replace(c," ")),""==b&&(this.removeAttribute?this.removeAttribute("class"):this.className=""))))}):void 0},children:function(a){return a?this.find(a):f?this.find("*"):this.find("MingGeAllelem2015")},find:function(a){return x(a,this,{find:!0})},filter:function(a){var b=x(a,this,{filter:!0});return this.SelectorTxt.ownerDocument&&!this.SelectorStr&&b.ObjArray[0]&&(b.SelectorTxt=b.ObjArray[0],b.SelectorStr=!1),b},index:function(a){try{return a?A.inArray(a.ObjArray[0],this.ObjArray):A.inArray(this.ObjArray[0],this.ObjArray[0].parentNode.getElementsByTagName("*"))}catch(b){return-1}},OneFilter:function(a){var b,e,f,c=0,d=new A;if(d.SelectorTxt=this.SelectorTxt,e=o(a),!e)return d;for(f=new RegExp("(^|\\s)"+e[2]+"(\\s|$)",e[3].Tag&&"i");b=this.ObjArray[c++];)f.test(b[e[1]])&&d.ObjArray.push(b),d.ObjArray=u(d.ObjArray);return d},eq:function(a){var b=new A;return b=null==a?this:(a=0>a?this.size()+a:a,this.ObjArray[a]&&(b.ObjArray=[b.SelectorTxt=this.ObjArray[a]]),b)},size:function(){return this.ObjArray.length},each:function(a){if(A.isFunction(a))for(var b=this.ObjArray.length,c=0;b>c;c++)a.call(this.ObjArray[c],c,b);return this},html:function(a){try{return"string"!=typeof a&&isNaN(a)?this.ObjArray[0]?this.ObjArray[0].innerHTML:null:(this.ObjArray[0].innerHTML=a,this)}catch(b){return this}},css:function(a,b){var d,f,h,c=0,e=typeof a,g={};if(p.opacity||(p.opacity=A.html5Attribute("opacity")||"filter"),p.transform||(p.transform=A.html5Attribute("transform")),"string"===e&&b)for(a=A.styleName(a);d=this.ObjArray[c++];)try{h=d.style,g=p.style(h,a,b),h[g[0]]=g[1]}catch(i){}else if("object"===e)for(;d=this.ObjArray[c++];){h=d.style;for(f in a)try{1==c&&(g[f]=p.style(h,A.styleName(f),a[f])),h[g[f][0]]=g[f][1]}catch(i){}}return this},val:function(a){try{return"string"!=typeof a&&isNaN(a)?this.ObjArray[0]?this.ObjArray[0].value:null:(this.ObjArray[0].value=a,this)}catch(b){return null}},get:function(a){return null==a?this.ObjArray:(a=0>a?this.size()+a:a,this.ObjArray[a])}},A.fn.extend=A.extend=function(){var b,a=arguments.length;if(1===a&&"object"==typeof arguments[0]){for(b in arguments[0])this[b]||(this[b]=arguments[0][b]);return!0}return a>1?arguments[1]||arguments[0]:!1},p.ajax.prototype=p.ajaxPrototype,A.extend({parseJSON:function(a){return p.JsonString.StringToJson(a)},toJSON:function(a){return p.JsonString.JsonToString(a)},setVar:function(c){try{delete a[b]}catch(d){a[b]=null}a[c]=A},isObject:function(a){return"[object Object]"===i.call(a)},isArray:function(a){return"[object Array]"===i.call(a)},isFunction:function(a){return"[object Function]"===i.call(a)},isEmptyObject:function(a){for(var b in a)return!1;return!0},ajax:function(a){if("object"!=typeof a)return!1;var b=new p.ajax;return b.carry(a),b},styleName:function(a){try{return a.replace(k,j)}catch(b){return a}},query:document.querySelectorAll,userAgent:n(navigator.userAgent),isIe:function(){return"msie"===this.userAgent.browser?this.userAgent.version.charAt(0):!1},inArray:function(a,b){if(b.indexOf)return b.indexOf(a);for(var c=0,d=b.length;d>c;c++)if(b[c]===a)return c;return-1},isHtml5:function(){return document.createElement("canvas").getContext("2d")?!0:!1},html5Attribute:function(a){var b,c,d,e,f;try{for(b=a?a.toLowerCase():"transform",a=b.replace(/^\w/,a.charAt(0).toUpperCase()),c=document.body.style,d=new Array(b,"Ms"+a,"Moz"+a,"Webkit"+a,"O"+a),e=!1,f=0;f<d.length;f++)if(d[f]in c){e=d[f];break}return e}catch(g){return!1}}}),a[b]=A}(window,"$");